# 硬件设计

## ADC采样

### 1 电流采样

#### 🔹1. 采样位置选择

| 采样方式       | 特点                                            | 推荐使用场景          |
| -------------- | ----------------------------------------------- | --------------------- |
| ⭐三相电流采样  | 精确获取每相电流，支持高精度 FOC、SMO、EKF 控制 | 高性能控制（如IPMSM） |
| 两相电流采样   | 根据电流和相量关系推导第三相电流，节省ADC通道   | 大多数 FOC 系统       |
| 单电阻（下桥） | 成本低、控制简单，但死区导致采样失真            | 方波控制或简单 BLDC   |
| DC母线采样     | 仅检测总电流，无法做FOC控制                     | 电流限幅或简单保护用  |


#### 🔹2. 电流检测器件选择

| 器件类型            | 描述                                         | 推荐型号或结构       |
| ------------------- | -------------------------------------------- | -------------------- |
| ⭐**分流电阻 + 运放** | 最常见；选低阻抗大功率采样电阻（如 5\~50mΩ） | INA240（抗共模干扰） |
| 霍尔电流传感器      | 无损、隔离，抗干扰强，适合高功率             | ACS712、DRV505x      |
| 隔离运放/模块       | 提供电气隔离，适合高压系统                   | AMC1301、ISO224      |


### 2 电压采样

* **母线电压（DC Bus）**

  * 用于电压前馈、过压保护、反电动势归一化处理
* **三相电压（Va, Vb, Vc）**

  * 用于反电动势法（过零检测）、Luenberger/EKF算法

### 3 MCU选型
  * STM32H750IBK6
